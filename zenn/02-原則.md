FigmaやSketchのおかげで、デザイナーもコンポーネントの概念には馴染んできたのではないでしょうか。

コンポーネントという言葉は広い意味で使われます。ソフトウェアのモジュール、ハードウェアの部品、ビジネスプロセスの構成要素——いずれも「コンポーネント」と呼ばれることがあります。
この記事では、UIを構成する再利用可能な部品に限定して扱います。Figmaのコンポーネント機能で作るマスターコンポーネントとインスタンスの関係や、コードの関数コンポーネントがこれにあたります。

なぜ私たちはコンポーネントという単位で考えるのでしょうか。

それは、プロダクトを変更しやすくし、一貫性を保つためです。

まずはコンポーネント指向の設計論で知られるいくつかの原則を紹介します。これらを押さえておくと、後の章で登場するプラクティスの背景が見通せるようになります。

# 再利用性と一貫性: 同じものを何度も作らない

まず、再利用性と一貫性です。

同じものを何度も作らない。一度作った品質をどこでも再現できることは、ユーザー体験の安定につながります。Figmaでマスターコンポーネントを更新すれば、すべてのインスタンスに変更が反映されます。コードでも同様です。ボタンの押し心地やエラーの表示方法が画面ごとにバラバラだと、ユーザーは使うたびに学び直す必要があります。

組織の視点で見れば、コンポーネント化はデザインと実装のコスト削減につながります。共通のコンポーネントがなければ、同じUIを作るたびにデザイナーごとの判断が入り、品質のばらつきを引き起こします。組織として決めたデザインをコンポーネントに落とし込んでおけば、誰が使っても同じ品質が再現でき、特定のデザイナーに依存せずに一貫性を維持できます。

![再利用性: 1箇所の変更がすべてに届く](https://raw.githubusercontent.com/yasuhiro-y/component-design-guide-for-designers/main/illustrations/output/fig-23.png)

# 変更のしやすさ: 一箇所を直せば全体に届く

次に、広範囲の変更のしやすさです。たとえば、仕様やブランドカラーが変わったとき、一箇所を変えれば全プロダクトに反映できること。これがコンポーネント指向の大きなメリットのひとつです。

たとえば、ブランドカラーを青から赤に変更するとします（別の意味で大変ですね！）。

バラバラに実装されていたら、ボタンのある画面すべてをひとつずつ直さなければなりません。コンポーネントで管理されていれば、トークンの値をひとつ書き換えるだけで済みます。

実際にはブランドカラーの全面変更より、プライマリボタンの角丸を8pxから12pxに統一する、フォントサイズのベースを14pxから16pxに上げるといった地味な変更のほうが頻繁に起こります。こうした変更も、コンポーネント化されていれば一箇所の修正で全画面に反映できます。

デザイナーが少人数でも大規模なプロダクトを運用できるのは、このレバレッジが効いているからです。Figmaでもコードでも同様です。

# 拡張のしやすさ: 他の誰かが安全に追加できるか

再利用性と変更のしやすさに加えて、見落とされがちな原則がもうひとつあります。あなた以外の誰かが、安全に拡張できるかという視点です。たとえば、新しいデザイナーがチームに入ったとき、既存のルールを壊さずに新しい選択肢を追加できるかどうかです。

一般的に、プロダクトは成功するほど大きくなります。機能が増え、画面が増え、関わる人が増えます。コンポーネント、トークン、プロパティの選択肢——これらはすべて、プロダクトの歴史とともに誰かが増やしていくものです。

- 新しいデザイナーがチームに加わったとき
- 事業の拡大で新しいステータスが必要になったとき
- ブランドリニューアルで色のバリエーションが増えたとき

たとえば、ボタンのデザインを変える variant に primary と secondary しかない状態で、新しいデザイナーが「警告用のボタンが欲しい」と思ったとします。命名規則が明確であれば destructive や warning を自然に追加できます。ルールが曖昧であれば、red-button や btn-alert のような名前が生まれ、体系が崩れていきます。

体系がない場合、次のような時系列を辿るでしょう。variant名が色名・略称・英語混在でバラバラです。

1. variant: primary / secondary が存在する
2. 警告用が欲しい → red-button を追加
3. 控えめなボタンも欲しい → btn-light を追加
4. 半年後、primary / secondary / red-button / btn-light / outline-gray が混在し、新メンバーが red-button と btn-light の違いは何ですか？と聞く。答えられる人がいない

最初の2人目が正しく拡張できたかどうかは、10人目の生産性を決定するでしょう。

![命名の体系: ルールの有無が半年後の品質を決める](https://raw.githubusercontent.com/yasuhiro-y/component-design-guide-for-designers/main/illustrations/output/fig-41.png)

拡張するために参照する体系をルール化することに加え、実装やFigmaファイルから類推可能であることが重要です。これはコンポーネントに限らず、トークンの命名体系、Enumの選択肢、ディレクトリ構造、あらゆる設計判断に通じる問いです。

# 経路依存性: 初期の選択が未来を縛る

経路依存性（path dependency）とは、初期に選んだ道がその後の選択肢を制約し、後戻りが難しくなる現象のことです。Figmaでたとえるなら、最初にAuto Layoutなしで画面を作り始めてしまい、50画面できたところでAuto Layoutに移行しようとしたら、全画面を作り直す羽目になるようなものです。

この現象はライブラリの選択、命名、ディレクトリ構造——デザインシステムのあらゆる要素に関連します。いくつか例を見てみましょう。

たとえば、立ち上げ期に[MUI](https://mui.com/)を採用して管理画面を作ったケースを考えてみてください。最初は開発スピードが出て順調でした。ところが1年後、ユーザー向け画面にも独自のデザインを入れたくなったとき、MUIのスタイル上書きがいたるところに広がっていて、Headless UIに乗り換えようにも影響範囲が大きすぎて踏み切れない。

命名も同じです。初期に `Card` と名付けたコンポーネントが50画面で使われたあとに「やっぱり `Tile` のほうが適切だった」と気づいても、Figma・コード・ドキュメント・チームの会話すべてに染みこんだ名前を変えるコストは、最初に決めるコストとは比べものになりません。

こうした構造は、デザインシステムのあらゆる層に潜んでいます。ディレクトリ構造、プロパティ設計、どれも時間が経つほど方向転換が難しくなります。

だからこそ初期の設計判断は慎重に決める価値がありますが、完璧な判断を最初から下せるわけでもありません。後半の「現実的な問題への対処」で、経路依存性に対する具体的な防御策を扱います。

![経路依存性: 初期の選択が未来を縛る](https://raw.githubusercontent.com/yasuhiro-y/component-design-guide-for-designers/main/illustrations/output/fig-39.png)

# 関心の分離: ひとつの部品にひとつの責任

コンポーネントの設計は柔軟性がある分、都合でさまざまな要素が詰め込まれ、結局当初めざしていた再利用性や拡張性が破綻する場合があります。

こうした破綻を防ぐために、責任を明確に切り分ける考え方があります。関心の分離と呼ばれます。身近な例で説明します。

たとえば、Figmaでデザインしていると、田中太郎という名前や¥1,500という金額のように、具体的なデータを入れて体験を考えます。しかし、コンポーネントとして設計する際は、具体的なデータに依存しなくても成り立つかどうかを検討する必要があります。

このコンポーネントは、どんなデータが来ても壊れないか？ ユーザー名が極端に長くても、金額が桁あふれしても大丈夫か？

コンポーネント自身が見せ方に責任を持てば、それを利用する側はデータを用意することに集中できます。

関心の分離が崩れると何が起きるか。

たとえば、`UserCard`コンポーネントの中に、Userというデータを受け取って表示するロジックが埋め込まれていたとします。見た目はきれいに動きます。

しかし、同じカードを別の画面で「お気に入り一覧」に使いたくなったとき、そのカードはUser APIの呼び出し先が決め打ちになっているので使い回せません。見た目だけ欲しいのに、データ取得のロジックがくっついてくるからです。

結果として、ほぼ同じ見た目の`UserCard2`が生まれます。この種の「似て非なるコンポーネント」の増殖は、関心の分離が崩れている兆候です。

この考え方を意識できていると、見た目を変えたいのか、データの出し方を変えたいのかが会話の中で自然に切り分けられるようになり、チーム内の連携がスムーズになります。

ひとことで言えば、ひとつの部品にひとつの責任を持たせること。

これが関心の分離の核心です。この考え方があると、Figmaで修正したとき何に影響するかが予測でき、エンジニアに聞く前に安全な変更範囲を判断できます。この記事の各章で、以下のレイヤーを順番に扱っていきます。

- 見た目とデータの分離: コンポーネントが表示に専念し、どんなデータを取ってきて渡すかは呼び出す側が担う。Figmaでいえば、マスターコンポーネントがどう見えるかを決め、インスタンス側がどんなテキストや画像を入れるかを差し替える関係
- 構造とスタイルの分離: 骨組みと見た目の装飾を切り離すこと。後述するHeadless UIの思想。Figmaでいえば、Auto Layoutで組んだ骨組みに、後からスタイルをあてる考え方に近い。[Shadcn/ui](https://ui.shadcn.com/)はこの分離をライブラリレベルで体現した実例で、[Radix UI](https://www.radix-ui.com/primitives)が提供する骨組み（振る舞い＋アクセシビリティ）に[Tailwind CSS](https://tailwindcss.com/)で見た目を上書きする構成になっている
- 汎用とドメインの分離: どこでも使える部品と、特定の機能に特化した部品を混ぜない。Figmaでいえば、どの画面でも使う`Button`と、求人詳細画面専用の`JobCard`を別々に管理すること。コンポーネント分割の章でくわしく扱う

これらはすべて後の章でくわしく扱います。いまは名前だけ覚えておけば十分です。
以下の例はいま完全に理解できなくても問題ありません。記事を読み進めるうちに自然とつながりが見えてきます。

![関心の分離: 3つのレイヤー](https://raw.githubusercontent.com/yasuhiro-y/component-design-guide-for-designers/main/illustrations/output/fig-24.png)

たとえば、`UserCard`というコンポーネントひとつをとっても、これらの分離が見えてきます。上記の場合では、`UserCard`の見た目（レイアウトや色）とデータ（ユーザー名やアイコンURL）は分離すべきですし、骨組み（Auto Layoutの構造）とスタイル（色・角丸）も分けられます。`UserCard`自体はドメインコンポーネントですが、その中で使う`Card`（枠）や`Avatar`（アイコン）は汎用コンポーネントです。

これらのレイヤーを意識すると、何をどこに置くべきかの論点がクリアになります。責任を分けておくからこそ、片方だけを変えたり、別の組み合わせで再利用したりできます。この分離の考え方は、後のレイアウトの章で具体的に効いてきます。コンポーネントの中身（padding）と配置（margin）の責任を分ける話は、関心の分離そのものです。

関心の分離をもう一段深めると、見た目と意味の分離にも行きつきます。

Figmaで赤い塗りの四角形を描いたとします。これは「エラー表示」なのか「セール価格の強調」なのか、見た目だけでは判断できません。見た目としてはまったく同じピクセルでも、文脈によって意味が変わることがあります。赤いボタンが「削除」を表す場合もあれば「エラー」を表す場合もある。見た目が正確に再現されていても、意味が伝わらなければユーザー体験としては不十分です。コンポーネントを設計するとき、「視覚的に正確か」と同じくらい「このコンポーネントが表現する意味は何か」を言語化しておくことが大切です。この視点は、命名の章で扱う「色は意味で名付ける」原則にもつながります。

例として、「見た目と意味の分離」を徹底しているのがRadix UIの[`Dialog`](https://www.radix-ui.com/primitives/docs/components/dialog)と[`AlertDialog`](https://www.radix-ui.com/primitives/docs/components/alert-dialog)です。どちらもオーバーレイ付きのモーダルウィンドウで、ピクセル単位ではほぼ同じ外観です。しかし`Dialog`は背景クリックで閉じられる汎用モーダルであるのに対し、`AlertDialog`は「本当に削除しますか？」のような確認用で、背景クリックでは閉じられません。見た目ではなく、ユーザーに強制する操作の意味が違うから別コンポーネントになっています。アクセシビリティの国際標準規格でも、スクリーンリーダーに「通常のダイアログ」と「警告ダイアログ」を区別して伝えるための仕組みが用意されており、この設計判断はその規格に基づいています。見た目の一致と意味の不一致を分けて考える好例です。

![Radix UI: Dialog と AlertDialog の違い](https://raw.githubusercontent.com/yasuhiro-y/component-design-guide-for-designers/main/illustrations/output/fig-11.png)

# これらの原則は、なぜビジネスにも効くのか

ここまで紹介した4つの原則は、技術的な話のように聞こえるかもしれません。しかし、それぞれがビジネスの成果に直結しています。

- 再利用性 — 同じUIを1から作り直す工数が減り、新しい機能の開発に時間を使える
- 変更のしやすさ — ブランドリニューアルや仕様変更のリードタイムが短くなり、市場の変化にすばやく対応できる
- 拡張のしやすさ — 新メンバーが既存の仕組みに沿って迷わず貢献でき、チームが大きくなっても生産性が落ちにくい
- 関心の分離 — バグ修正の影響範囲が局所化され、ある画面を直したら別の画面が壊れた、という事故を防げる

デザインシステムへの投資は、目の前の画面をきれいにすることだけが目的ではありません。開発速度、品質の安定、チームのスケーラビリティといった、プロダクト組織全体の成長を支えるインフラへの投資です。この視点を持って設計されたデザインシステムは、それを活用した工数の見通しがたちやすかったり、改修する際に考慮する範囲が特定されていたりするメリットを享受することができます。

再利用性・変更のしやすさ・拡張のしやすさ・関心の分離——この4つの原則を押さえたうえで、次はこの原則をどんな戦略で実現するかの選択肢を見ていきます。
